
<!doctype html>
<html lang='zh'>
<head>
    <meta charset="UTF-8">
    <title>testest</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <script type="text/javascript" src="js/zepto.min.js"></script>
    <script type="text/javascript" src="js/zepto.fx.js"></script>
    <script type="text/javascript" src="js/zepto.touch.js"></script>
    <link rel="stylesheet" href="css/app2.css"/>

</head>
<body>
<audio src="source/music.mp3" id="bgAudio" autoplay="" loop="" ></audio>
<div class="scr page_loading">
    <div id="" class="loadingTxt">即将进入...</div>
    <div id="block_1" class="barlittle"></div>
    <div id="block_2" class="barlittle"></div>
    <div id="block_3" class="barlittle"></div>
    <div id="block_4" class="barlittle"></div>
    <div id="block_5" class="barlittle"></div>
</div>
<!--<div class="scr mask"></div>-->
<div class="scr volume">
    <button class="volumeOff sprite volumeAll" id="musicBtn">

    </button>
</div>

<div class="main" id="app">
    <div class="svg" style="display: none">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" version="1.1">
            <line xmlns="http://www.w3.org/2000/svg" x1="47%" y1="11.64%" x2="7.81%" y2="13.74%" style="stroke:rgb(255,255,255);stroke-width:1"></line>
            <line xmlns="http://www.w3.org/2000/svg" x1="7.81%" y1="13.74%" x2="82%" y2="26.5%" style="stroke:rgb(255,255,255);stroke-width:1"></line>
            <line xmlns="http://www.w3.org/2000/svg" x1="82%" y1="26.5%" x2="11.56%" y2="39%" style="stroke:rgb(255,255,255);stroke-width:1"></line>
            <line xmlns="http://www.w3.org/2000/svg" x1="11.56%" y1="39%" x2="82.97%" y2="47.6%" style="stroke:rgb(255,255,255);stroke-width:1"></line>
            <line xmlns="http://www.w3.org/2000/svg" x1="82.97%" y1="47.6%" x2="48.16%" y2="52%" style="stroke:rgb(255,255,255);stroke-width:1"></line>


            <circle xmlns="http://www.w3.org/2000/svg" cx="7.81%" cy="13.74%" r="4" fill="#FFF"></circle>
            <circle xmlns="http://www.w3.org/2000/svg" cx="16.5%" cy="15.3%" r="5" stroke="#FFF" stroke-width="3" fill="#9d9b9c"></circle>
            <circle xmlns="http://www.w3.org/2000/svg" cx="82%" cy="26.5%" r="4" fill="#FFF"></circle>
            <circle xmlns="http://www.w3.org/2000/svg" cx="68.5%" cy="28.9%" r="5" stroke="#FFF" stroke-width="3" fill="#9d9b9c"></circle>
            <circle xmlns="http://www.w3.org/2000/svg" cx="11.56%" cy="39%" r="5" stroke="#FFF" stroke-width="3" fill="#9d9b9c"></circle>
            <circle xmlns="http://www.w3.org/2000/svg" cx="82.97%" cy="47.6%" r="4" fill="#FFF"></circle>
        </svg>
    </div>
    <div class="page page_1 current" data-hash="page_1"><!--111111111111111111111111111111111111111111111111111111111111111111111111111111111-->
        <div id="plane" class="frame ">
            <div class="frame-inner">
                <!--<img width="100%" src="img/plane.png">-->
                <div class="sprite plane"></div>
            </div>
        </div>
        <div id="tree" class="frame ">
            <div class="frame-inner">
                <img width="100%" src="img/tree.png">
            </div>
        </div>
        <div id="circle" class="frame ">
            <div class="frame-inner">
                <img width="100%" src="img/circle.png">
                <!--<div class="sprite circle"></div>-->
            </div>
        </div>
        <div id="arrow" class="frame ">
            <div class="frame-inner">
                <img width="100%" src="img/arrow.png">
                <!--<div class="sprite arrow"></div>-->
            </div>
        </div>
        <div id="textBox1" class="frame ">
            <div class="frame-inner">
                <h1>他 </h1><h4>怀揣着</h4>
            </div>
        </div>
        <div id="textBox2" class="frame ">
            <div class="frame-inner">
                <h3>梦想 </h3><h4>与</h4><h3> 热情</h3><h4>...</h4>
            </div>
        </div>
    </div>

    <div class="page page_2"  data-hash="page_2"><!--222222222222222222222222222222222222222222222222222222222222222222222222222222222-->
        <div id="master" class="frame ">
            <div class="frame-inner">
                <!--<img width="100%" src="img/master.png">-->
                <div class="sprite master"></div>
            </div>
        </div>
        <div id="dinosaur" class="frame ">
            <div class="frame-inner">
                <!--<img width="100%" src="img/dinosaur.png">-->
                <div class="sprite dinosaur"></div>
            </div>
        </div>
        <div id="ps" class="frame ">
            <div class="frame-inner">
                <img width="100%" src="img/ps.png">
                <!--<div class="sprite ps"></div>-->
            </div>
        </div>
        <div id="ai" class="frame ">
            <div class="frame-inner">
                <img width="100%" src="img/ai.png">
                <!--<div class="sprite ai"></div>-->
            </div>
        </div>
        <div id="textBox3" class="frame ">
            <div class="frame-inner">
                <h1>他</h1><h4>是</h4><h3>射鸡湿？</h3>
            </div>
        </div>
        <div id="textBox4" class="frame ">
            <div class="frame-inner">
                <h6>· UI设计（网站/App）<br/>· Light App设计<br/>· Banner设计
                </h6>
            </div>
        </div>
    </div>
    <div class="page page_3"  data-hash="page_3"><!--333333333333333333333333333333333333333333333333333333333333333333333333333333333-->
        <div id="cloud" class="frame ">
            <div class="frame-inner">
                <!--<img width="100%" src="img/cloud.png">-->
                <div class="sprite cloud"></div>
            </div>
        </div>
        <div id="ball" class="frame ">
            <div class="frame-inner">
                <!--<img width="100%" src="img/ball.png">-->
                <div class="sprite ball"></div>
            </div>
        </div>
        <div id="textBox5" class="frame ">
            <div class="frame-inner">
                <h1>他</h1><h4>是</h4><h3>动画狮？</h3>
            </div>
        </div>
        <div id="fl" class="frame ">
            <div class="frame-inner">
                <!--<img width="100%" src="img/fl.png">-->
                <div class="sprite fl"></div>
            </div>
        </div>
        <div id="ae" class="frame ">
            <div class="frame-inner">
                <!--<img width="100%" src="img/ae.png">-->
                <div class="sprite ae"></div>
            </div>
        </div>
        <div id="textBox6" class="frame ">
            <div class="frame-inner">
                <h6>· Flash互动网站<br/>·富媒体动画设计
                </h6>
            </div>
        </div>
    </div>
    <div class="page page_4"  data-hash="page_4">page<p>4</p></div>
    <div class="page page_5"  data-hash="page_5">page<p>5</p></div>
</div>
</body>
<!--<script type="text/javascript" src="js/app.js"></script>-->
<script type="text/javascript">
    $(function(){
                var app=g={
                            changeHash:false,
                            currentPage:null,
                            current:1
                        },hashMap={"#page_1":".page_1","#page_2":".page_2","#page_3":"page_3","#page_4":".page_4","#page_5":".page_5"},
                        $pages=$(".main .page"),
                        isAnimate=false,
                        $current=$pages.filter(".current"),
                        effect="cubic-bezier(0.42,0,0.58,1)";

                function recordState(hash,flag){
                    var pageSelector=hashMap[window.location.hash];
                    g.changeHash=true;
                    g.current=pageSelector&&pageSelector.slice(-1)||1;
                    setTimeout(function(){
                        g.changeHash = false;
                    },100);
                    window.location.href=window.location.href.split("#")[0]+"#"+hash;
                    return true;
                };

                window.addEventListener("popstate",function(e){
                    loadPage();
                });
                function loadPage(){
                    var pageSelector=hashMap[window.location.hash];
                    if( g.changeHash==false&&pageSelector  ){
                        var pageEl=$(pageSelector+".page"),page=parseInt(pageSelector.slice(-1)),clas;
                        if(pageEl.length){
                            if(page> g.current){
                                clas="up";
                            }else{
                                clas="down";
                            }
                            pageAnimate(pageEl,clas);
                        }
                    }else if(!(g.current==1&&(!pageSelector||pageSelector==".page_1"))){
                        pageAnimate($pages.eq(0),"down");
                    }
                }
                loadPage();
                document.addEventListener('touchmove', function (event) {
                    event.preventDefault();
                }, false);

                $(document).swipeUp(function(){
                    pageAnimate($current.next(".page"),"up");
                });
                $(document).swipeDown(function(){
                    pageAnimate($current.prev(".page"),"down");
                });
                function pageAnimate(next,clas){
                    if(isAnimate){
                        return;
                    }
                    next.length&&(isAnimate=true)&&recordState(next.data("hash"))&&next.addClass("active "+clas).animate({translate3d:"0,0,0"},618,effect,function(){
                        $current.removeClass("current");
                        $current=$(this).addClass("current").removeClass("active "+clas).attr("style","");
                        isAnimate=false;
                    })
                }

//            $('.page_2').addClass("current");
                //声音播放
                $("#musicBtn").on("switch",function(){
                    if($(this).hasClass("volumeOff"))
                    {
                        document.getElementById("bgAudio").pause();
                        $(this).removeClass("volumeOff").addClass("volumeOn");

                    }else
                    {
                        document.getElementById("bgAudio").play();
                        $(this).removeClass("volumeOn").addClass("volumeOff");
                    }
                }).on("click",function(){
                    $(this).trigger("switch")
                })
                window.onload=function(){

                    $('.page_loading').animate({opacity:0},1200,"ease",function(){
                        $('.page_loading').remove();
                    });
                };

                //橡皮擦功能

            }
    );
</script>
<script>
    $(".page .frame").addClass("animate");
</script>
</html>